<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>taofu的博客</title>
    <link>http://taofu328.github.io/</link>
    <description>Recent content on taofu的博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 16 Feb 2020 19:41:26 +0800</lastBuildDate>
    
        <atom:link href="http://taofu328.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>centos7下lvm磁盘扩容</title>
      <link>http://taofu328.github.io/post/centos7-lvm-extend/</link>
      <pubDate>Sun, 16 Feb 2020 19:41:26 +0800</pubDate>
      
      <guid>http://taofu328.github.io/post/centos7-lvm-extend/</guid>
      
        <description>&lt;p&gt;机器有两块硬盘，安装操作系统的时候用了一块，准备把另一块扩充进来。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;查看现有的硬盘分区&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# df -h&lt;/span&gt;
文件系统             容量  已用  可用 已用% 挂载点
/dev/mapper/cl-root   50G  3.3G   47G    7% /
devtmpfs             7.7G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  7.7G    0% /dev
tmpfs                7.8G   84K  7.8G    1% /dev/shm
tmpfs                7.8G  9.4M  7.7G    1% /run
tmpfs                7.8G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  7.8G    0% /sys/fs/cgroup
/dev/sda1           1014M  173M  842M   17% /boot
/dev/mapper/cl-home  873G   33M  873G    1% /home
tmpfs                1.6G   16K  1.6G    1% /run/user/42
tmpfs                1.6G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  1.6G    0% /run/user/0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;查看新增加的硬盘路径&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# fdisk -l&lt;/span&gt;
磁盘 /dev/sda：1000.2 GB, &lt;span style=&#34;color:#ae81ff&#34;&gt;1000204886016&lt;/span&gt; 字节，1953525168 个扇区
Units &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 扇区 of &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; * 512 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt; bytes
扇区大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;逻辑/物理&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：512 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
I/O 大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;最小/最佳&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：4096 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
磁盘标签类型：dos
磁盘标识符：0x000be271
   设备 Boot      Start         End      Blocks   Id  System
/dev/sda1   *        &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;2099199&lt;/span&gt;     &lt;span style=&#34;color:#ae81ff&#34;&gt;1048576&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;83&lt;/span&gt;  Linux
/dev/sda2         &lt;span style=&#34;color:#ae81ff&#34;&gt;2099200&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;1953523711&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;975712256&lt;/span&gt;   8e  Linux LVM
磁盘 /dev/sdb：1000.2 GB, &lt;span style=&#34;color:#ae81ff&#34;&gt;1000204886016&lt;/span&gt; 字节，1953525168 个扇区
Units &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 扇区 of &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; * 512 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt; bytes
扇区大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;逻辑/物理&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：512 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
I/O 大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;最小/最佳&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：4096 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
磁盘 /dev/mapper/cl-root：53.7 GB, &lt;span style=&#34;color:#ae81ff&#34;&gt;53687091200&lt;/span&gt; 字节，104857600 个扇区
Units &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 扇区 of &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; * 512 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt; bytes
扇区大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;逻辑/物理&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：512 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
I/O 大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;最小/最佳&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：4096 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
磁盘 /dev/mapper/cl-swap：8388 MB, &lt;span style=&#34;color:#ae81ff&#34;&gt;8388608000&lt;/span&gt; 字节，16384000 个扇区
Units &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 扇区 of &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; * 512 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt; bytes
扇区大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;逻辑/物理&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：512 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
I/O 大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;最小/最佳&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：4096 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
磁盘 /dev/mapper/cl-home：937.0 GB, &lt;span style=&#34;color:#ae81ff&#34;&gt;937045262336&lt;/span&gt; 字节，1830166528 个扇区
Units &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 扇区 of &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; * 512 &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt; bytes
扇区大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;逻辑/物理&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：512 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
I/O 大小&lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;最小/最佳&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;：4096 字节 / &lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt; 字节
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;初始化分区sdb为物理卷pv&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# pvcreate /dev/sdb&lt;/span&gt;
  Physical volume &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/dev/sdb&amp;#34;&lt;/span&gt; successfully created.
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# pvdisplay&lt;/span&gt;
  --- Physical volume ---
  PV Name               /dev/sda2
  VG Name               cl
  PV Size               930.51 GiB / not usable 4.00 MiB
  Allocatable           yes 
  PE Size               4.00 MiB
  Total PE              &lt;span style=&#34;color:#ae81ff&#34;&gt;238210&lt;/span&gt;
  Free PE               &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
  Allocated PE          &lt;span style=&#34;color:#ae81ff&#34;&gt;238209&lt;/span&gt;
  PV UUID               tFdpom-cQYU-IAe0-HmWi-DVBi-hBKR-g3csJ3
   
  &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/dev/sdb&amp;#34;&lt;/span&gt; is a new physical volume of &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;931.51 GiB&amp;#34;&lt;/span&gt;
  --- NEW Physical volume ---
  PV Name               /dev/sdb
  VG Name               
  PV Size               931.51 GiB
  Allocatable           NO
  PE Size               &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;   
  Total PE              &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
  Free PE               &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
  Allocated PE          &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
  PV UUID               GW4MP-O2zZ-akX-Zq80-VoaS-y7uj-wBUvq3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;刚创建的PV加入相应的VG&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# vgextend cl /dev/sdb&lt;/span&gt;
  Volume group &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;cl&amp;#34;&lt;/span&gt; successfully extended
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# vgdisplay&lt;/span&gt;
  --- Volume group ---
  VG Name               cl
  System ID             
  Format                lvm2
  Metadata Areas        &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
  Metadata Sequence No  &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;
  VG Access             read/write
  VG Status             resizable
  MAX LV                &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
  Cur LV                &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
  Open LV               &lt;span style=&#34;color:#ae81ff&#34;&gt;3&lt;/span&gt;
  Max PV                &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
  Cur PV                &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
  Act PV                &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;
  VG Size               1.82 TiB
  PE Size               4.00 MiB
  Total PE              &lt;span style=&#34;color:#ae81ff&#34;&gt;476677&lt;/span&gt;
  Alloc PE / Size       &lt;span style=&#34;color:#ae81ff&#34;&gt;238209&lt;/span&gt; / 930.50 GiB
  Free  PE / Size       &lt;span style=&#34;color:#ae81ff&#34;&gt;238468&lt;/span&gt; / 931.52 GiB
  VG UUID               3Ba7mm-epEg-CIGm-JgEr-0GsY-RjJc-ytdDZv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;把VG加入到LV&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1c ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# lvdisplay&lt;/span&gt;
  --- Logical volume ---
  LV Path                /dev/cl/swap
  LV Name                swap
  VG Name                cl
  LV UUID                S5syZb-ieb0-SdXX-M2Bz-CJQy-bohH-GqlZYy
  LV Write Access        read/write
  LV Creation host, time localhost.localdomain, 2017-12-04 14:21:24 +0000
  LV Status              available
  &lt;span style=&#34;color:#75715e&#34;&gt;# open                 2&lt;/span&gt;
  LV Size                7.81 GiB
  Current LE             &lt;span style=&#34;color:#ae81ff&#34;&gt;2000&lt;/span&gt;
  Segments               &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;
  Block device           253:1
   
  --- Logical volume ---
  LV Path                /dev/cl/home
  LV Name                home
  VG Name                cl
  LV UUID                uGjleY-QvjI-t5ys-lJW8-lcUH-rRaK-pxnuTh
  LV Write Access        read/write
  LV Creation host, time localhost.localdomain, 2017-12-04 14:21:24 +0000
  LV Status              available
  &lt;span style=&#34;color:#75715e&#34;&gt;# open                 1&lt;/span&gt;
  LV Size                872.69 GiB
  Current LE             &lt;span style=&#34;color:#ae81ff&#34;&gt;223409&lt;/span&gt;
  Segments               &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;
  Block device           253:2
   
  --- Logical volume ---
  LV Path                /dev/cl/root
  LV Name                root
  VG Name                cl
  LV UUID                yrxmYZ-1E7b-bfQB-eF2k-E3eQ-r40b-SCrnCm
  LV Write Access        read/write
  LV Creation host, time localhost.localdomain, 2017-12-04 14:21:29 +0000
  LV Status              available
  &lt;span style=&#34;color:#75715e&#34;&gt;# open                 1&lt;/span&gt;
  LV Size                50.00 GiB
  Current LE             &lt;span style=&#34;color:#ae81ff&#34;&gt;12800&lt;/span&gt;
  Segments               &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;
  Block device           253:0
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#  lvextend -l +238468 /dev/cl/home&lt;/span&gt;
  Size of logical volume cl/home changed from 872.69 GiB &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;223409&lt;/span&gt; extents&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; to 1.76 TiB &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;461877&lt;/span&gt; extents&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;.
  Logical volume cl/home successfully resized.
  
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1c ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# lvdisplay&lt;/span&gt;
  --- Logical volume ---
  LV Path                /dev/cl/swap
  LV Name                swap
  VG Name                cl
  LV UUID                S5syZb-ieb0-SdXX-M2Bz-CJQy-bohH-GqlZYy
  LV Write Access        read/write
  LV Creation host, time localhost.localdomain, 2017-12-04 14:21:24 +0000
  LV Status              available
  &lt;span style=&#34;color:#75715e&#34;&gt;# open                 2&lt;/span&gt;
  LV Size                7.81 GiB
  Current LE             &lt;span style=&#34;color:#ae81ff&#34;&gt;2000&lt;/span&gt;
  Segments               &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;
  Block device           253:1
   
  --- Logical volume ---
  LV Path                /dev/cl/home
  LV Name                home
  VG Name                cl
  LV UUID                uGjleY-QvjI-t5ys-lJW8-lcUH-rRaK-pxnuTh
  LV Write Access        read/write
  LV Creation host, time localhost.localdomain, 2017-12-04 14:21:24 +0000
  LV Status              available
  &lt;span style=&#34;color:#75715e&#34;&gt;# open                 1&lt;/span&gt;
  LV Size                872.69 GiB
  Current LE             &lt;span style=&#34;color:#ae81ff&#34;&gt;223409&lt;/span&gt;
  Segments               &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;
  Block device           253:2
   
  --- Logical volume ---
  LV Path                /dev/cl/root
  LV Name                root
  VG Name                cl
  LV UUID                yrxmYZ-1E7b-bfQB-eF2k-E3eQ-r40b-SCrnCm
  LV Write Access        read/write
  LV Creation host, time localhost.localdomain, 2017-12-04 14:21:29 +0000
  LV Status              available
  &lt;span style=&#34;color:#75715e&#34;&gt;# open                 1&lt;/span&gt;
  LV Size                50.00 GiB
  Current LE             &lt;span style=&#34;color:#ae81ff&#34;&gt;12800&lt;/span&gt;
  Segments               &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     &lt;span style=&#34;color:#ae81ff&#34;&gt;256&lt;/span&gt;
  Block device           253:0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里的扩容容量+238468是前面vgdisplay打印结果中的Free PE。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;调整文件系统大小&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# xfs_growfs /dev/mapper/cl-home&lt;/span&gt;
meta-data&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/dev/mapper/cl-home    isize&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;512&lt;/span&gt;    agcount&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;4, agsize&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;57192704&lt;/span&gt; blks
         &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;                       sectsz&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;  attr&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;2, projid32bit&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;1
         &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;                       crc&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;        finobt&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; spinodes&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
data     &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;                       bsize&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;   blocks&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;228770816, imaxpct&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;25
         &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;                       sunit&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;      swidth&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; blks
naming   &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;version &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;              bsize&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;   ascii-ci&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; ftype&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
log      &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;internal               bsize&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;   blocks&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;111704, version&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;2
         &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;                       sectsz&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;  sunit&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; blks, lazy-count&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;
realtime &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;none                   extsz&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;4096&lt;/span&gt;   blocks&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;0, rtextents&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;
data blocks changed from &lt;span style=&#34;color:#ae81ff&#34;&gt;228770816&lt;/span&gt; to &lt;span style=&#34;color:#ae81ff&#34;&gt;472962048&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;root@indexserver1b ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# df -h&lt;/span&gt;
文件系统             容量  已用  可用 已用% 挂载点
/dev/mapper/cl-root   50G  3.3G   47G    7% /
devtmpfs             7.7G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  7.7G    0% /dev
tmpfs                7.8G   84K  7.8G    1% /dev/shm
tmpfs                7.8G  9.4M  7.7G    1% /run
tmpfs                7.8G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  7.8G    0% /sys/fs/cgroup
/dev/sda1           1014M  173M  842M   17% /boot
/dev/mapper/cl-home  1.8T   33M  1.8T    1% /home
tmpfs                1.6G   16K  1.6G    1% /run/user/42
tmpfs                1.6G     &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;  1.6G    0% /run/user/0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可以看到可用/dev/mapper/cl-home 可用空间已经变成1.8T
简化步骤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;pvcreate /dev/sdb
vgextend cl /dev/sdb
lvextend -l +238468 /dev/cl/home
xfs_growfs /dev/mapper/cl-home
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
      
    </item>
    
  </channel>
</rss>
